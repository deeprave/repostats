# See https://pre-commit.com for more information
# See https://pre-commit.com/hooks.html for more hooks
repos:
  -   repo: https://github.com/pre-commit/pre-commit-hooks
      rev: v6.0.0
      hooks:
        - id: trailing-whitespace
        - id: check-case-conflict
        - id: check-symlinks
        - id: end-of-file-fixer
        - id: check-yaml
        - id: check-toml
        - id: check-json
        - id: check-xml
        - id: mixed-line-ending
        - id: check-merge-conflict
        - id: check-added-large-files
        - id: no-commit-to-branch
          args: [--branch, main]

  -   repo: local
      hooks:
        - id: cargo-fmt
          name: cargo fmt
          entry: cargo fmt
          language: system
          types: [ rust ]
          pass_filenames: false

#        - id: cargo-clippy
#          name: cargo clippy
#          entry: cargo clippy
#          language: system
#          types: [ rust ]
#          pass_filenames: false
#          args: [ "--", "-D", "warnings" ]

        - id: cargo-check
          name: cargo check
          entry: cargo check
          language: system
          types: [ rust ]
          pass_filenames: false

        - id: cargo-test
          name: cargo test
          entry: cargo test
          language: system
          types: [ rust ]
          pass_filenames: false
          args: ["--workspace", "--all-targets"]
